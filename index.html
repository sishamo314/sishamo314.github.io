<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">			
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Telnet, SSH Client for Browser</title>

<meta name="description" content="This online app is a free implementation of SSH and Telnet for browser, along with an xterm terminal emulator. You can connect to any telnet server or BBS (Bulletin Board Systems) server using this telnet client. This app also provides web based SSH Client. You can access your SSH servers from your browser without installing anything.">
<meta name="keywords" content="online telnet client, online ssh client, bbs client, telnet client, connect telnet, connect ssh server">

<meta property="og:title" content="Telnet, SSH Client for Browser"> 
<meta property="og:description" content="This online app is a free implementation of SSH and Telnet for browser, along with an xterm terminal emulator. You can connect to any telnet server or BBS (Bulletin Board Systems) server using this telnet client. This app also provides web based SSH Client. You can access your SSH servers from your browser without installing anything.">
<meta property="og:type" content="website">
<meta property="og:url" content="//youfiles.herokuapp.com/telnetclient/">
<meta property="og:image" content="//youfiles.herokuapp.com/telnetclient/img/logo128.png">
<link rel="shortcut icon" href="./favicon.ico">

<style>
body,table,td {
	font-size:14px;
    font-family: Arial, Helvetica, sans-serif; /*Trebuchet MS, Tahoma, Verdana*/
}
html, body{
	background-color:white;
	margin:0;
	width:100%;
	height:100%;
	/*overflow-y:hidden;*/
}
#desc td, #desc table{
	font-size:14px;
}
#layer_message td, #layer_message table, #layer_message label{
	font-size:14px;
}
A:link    {color:#0000ff;text-decoration:none;}
A:visited {color:#0000ff;text-decoration:none;}
A:active  {color:#0000ff;text-decoration:underline;}
A:hover  {color:#0000ff;text-decoration:underline;}
.opts td, .opts table, .opts input, .opts select{
	font-size:16px;
}
</style>

<script type="text/javascript" src="js/common.js"></script>
<script>
var gadb=false;
function setstorage(name,value){
	if(name!='c_prefer_ext') name="telnet_"+name;
	if (window.localStorage){
		localStorage[name]=value+'';
	}else{
		//setCookie(name, value, 1000*60*60*24*365*10); 
	}
}
function getstorage(name){
	if(name!='c_prefer_ext') name="telnet_"+name;
	var s;
	if (window.localStorage){
		s=localStorage[name];
	}else{
		//s=getCookie(name);
	}
	return s;
}
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1113541014872557",
          enable_page_level_ads: true
     });
</script>
</head>
<body>

<table id="loading" style="position:absolute;left:50px;top:50px;background: white;padding:3px;border:0px solid silver;-webkit-box-shadow: 0 0 10px #999;-moz-box-shadow: 0 0 10px #999; box-shadow: 0 0 10px #999;"><tr>
<td><img src="images/wait.gif">
<td>Loading library... Please wait a moment.
</table>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
var ises6supported=true;
function load_hterm(){
	try{Function("() => {};");}catch(err){ises6supported=false;}
	var src;
	if(ises6supported) src='js/hterm_all_1.87.js';
	else src='js/hterm_all_1.61.js';
	src+='?t=5';
	var o = document.createElement('scri' + 'pt');
	o.setAttribute('src', src);
	o.setAttribute('type', 'text/javascript');
	document.body.appendChild(o);
}
load_hterm();
</script>
<script src="js/socket.io.js"></script>
<script src="js/encoding.js" type="text/javascript"></script>
<script>
document.getElementById('loading').style.display='none';
</script>

<table cellpadding=0 cellspacing=0><tr>
<td width=162 valign=top>
<div id="term_left">
<div style="margin-top:5px;margin-left:6px">
<table cellpadding=0 cellspacing=0><tr>
<td><button type="button" id="btn_open" onclick="gd_open_picker()" title="Open a file from Google Drive" style="white-space:nowrap"><img src="images/gdrive/product16.png" width=16 align="absmiddle"> Open a File<br>from Google Drive</button>
</table>
<div id="downlink" style=""></div>
</div>

<div style="margin-top:10px;margin-right:10px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" onerror="gadb=true;"></script>
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-1113541014872557"
     data-ad-slot="9901752706"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
</div>

<td valign=top>

<table id="term_top" style="white-space:nowrap;margin-top:5px;margin-bottom:4px;" cellpadding=0 cellspacing=0><tr>
<td>&nbsp;
<td><button id="showterminal" onclick="proc_showterminal()" disabled=true>Options <-> Terminal</button>
<td>&nbsp;
<td>Theme <select id="theme" disabled=true>
<option value="light">Light
<option value="dark" selected>Dark
</select>
<td>&nbsp;
<td>FontSize <select id="fontsize" disabled=true>
<option value=10>10
<option value=11>11
<option value=12>12
<option value=13>13
<option value=14>14
<option value=15 selected>15 (Default)
<option value=16>16
<option value=18>18
<option value=20>20
<option value=22>22
</select>

<td>&nbsp;&nbsp;
<td><button onclick="proc_memo();" title="Show / hide memo">Memo</button>
<td>&nbsp;
<td><div id="msg1"></div>
</table>

<div id="term_opts">
<table style="margin-top:8px;" width=750>
<tr><td>
<a href="./" title="Go Home" style="font-family:Verdana, Arial;font-size:26px;font-weight:bold;color:#B84B4A">Telnet, SSH Client for Browser</a>
<tr><td>
This online app is a free implementation of SSH and Telnet for browser, along with an xterm terminal emulator.<br>
You can connect to any telnet server or BBS (Bulletin Board Systems) server using this telnet client.<br>
This app also provides web based SSH Client. You can access your SSH servers from your browser without installing anything.
It allows you to execute shell commands on a server directly from a browser.<br>
Just enter the host name and port to connect and click the connect button. It is easy to use and very intuitive.<br>
<span style="font-size:14px">To prevent abusing, your connection IP address is recorded in the access log.<span>
<tr><td>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1113541014872557"
     data-ad-slot="8782497756"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</table>

<form style="display:inline" onsubmit="proc_connect();return false">
<table class="opts" style="margin-top:7px">
<tr><td colspan=3>
Connection Type <select id="ctype">
<option value="telnet">Telnet
<option value="ssh">SSH
</select> &nbsp;Default Port (Telnet: 23, SSH: 22)
<tr><td colspan=3>
<tr><td>Host <td><input id="host" type="text" style="width:400px" placeholder="telnet.abc.com" spellcheck=false autocomplete="off" value=""> &nbsp;Port <input id="port" type="number" style="width:80px" value="" autocomplete="off">
<tr><td>User <td><input id="user" type="text" style="width:400px" placeholder="guest,user,demo,root..." spellcheck=false autocomplete="off">
&nbsp;Encoding <select id="encoding" style="width:170px" title="Select text encoding (Default: Unicode -> UTF-8)"><optgroup label="Arabic"><option value="IBM-864">IBM-864<option value="IBM-864-I">IBM-864-I<option value="ISO-8859-6">ISO-8859-6<option value="ISO-8859-6-E">ISO-8859-6-E<option value="ISO-8859-6-I">ISO-8859-6-I<option value="MacArabic">MacArabic<option value="Windows-1256">Windows-1256<optgroup label="Armenian"><option value="ARMSCII-8">ARMSCII-8<optgroup label="Baltic"><option value="ISO-8859-13">ISO-8859-13<option value="ISO-8859-4">ISO-8859-4<option value="Windows-1257">Windows-1257<optgroup label="Celtic"><option value="ISO-8859-14">ISO-8859-14<optgroup label="Central European"><option value="IBM-852">IBM-852<option value="ISO-8859-2">ISO-8859-2<option value="MacCE">MacCE<option value="Windows-1250">Windows-1250<optgroup label="Chinese Simplified"><option value="GB18030">GB18030<option value="GB2312">GB2312<option value="GBK">GBK<option value="HZ">HZ<option value="ISO-2022-CN">ISO-2022-CN<optgroup label="Chinese Traditional"><option value="Big5">Big5<option value="Big5-HKSCS">Big5-HKSCS<option value="EUC-TW">EUC-TW<optgroup label="Croatian"><option value="MacCroatian">MacCroatian<optgroup label="Cyrillic"><option value="IBM-855">IBM-855<option value="ISO-8859-5">ISO-8859-5<option value="ISO-IR-111">ISO-IR-111<option value="KOI8-R">KOI8-R<option value="MacCyrillic">MacCyrillic<option value="Windows-1251">Windows-1251<optgroup label="Cyrillic/Russian"><option value="CP-866">CP-866<optgroup label="Cyrillic/Ukrainian"><option value="KOI8-U">KOI8-U<option value="MacUkrainian">MacUkrainian<optgroup label="English"><option value="US-ASCII">US-ASCII<optgroup label="Farsi"><option value="MacFarsi">MacFarsi<optgroup label="Georgian"><option value="GEOSTD8">GEOSTD8<optgroup label="Greek"><option value="ISO-8859-7">ISO-8859-7<option value="MacGreek">MacGreek<option value="Windows-1253">Windows-1253<optgroup label="Gujarati"><option value="MacGujarati">MacGujarati<optgroup label="Gurmukhi"><option value="MacGurmukhi">MacGurmukhi<optgroup label="Hebrew"><option value="IBM-862">IBM-862<option value="ISO-8859-8-E">ISO-8859-8-E<option value="ISO-8859-8-I">ISO-8859-8-I<option value="MacHebrew">MacHebrew<option value="Windows-1255">Windows-1255<optgroup label="Hebrew Visual"><option value="ISO-8859-8">ISO-8859-8<optgroup label="Hindi"><option value="MacDevanagari">MacDevanagari<option value="SunDevanagari">SunDevanagari<optgroup label="Icelandic"><option value="MacIcelandic">MacIcelandic<optgroup label="Japanese"><option value="EUC-JP">EUC-JP<option value="ISO-2022-JP">ISO-2022-JP<option value="Shift_JIS">Shift_JIS<optgroup label="Korean"><option value="EUC-KR">EUC-KR<option value="ISO-2022-KR">ISO-2022-KR<option value="JOHAB">JOHAB<option value="UHC">UHC<optgroup label="Nordic"><option value="ISO-8859-10">ISO-8859-10<optgroup label="Romanian"><option value="ISO-8859-16">ISO-8859-16<option value="MacRomanian">MacRomanian<optgroup label="South European"><option value="ISO-8859-3">ISO-8859-3<optgroup label="Thai"><option value="IBM-874">IBM-874<option value="ISO-8859-11">ISO-8859-11<option value="TIS-620">TIS-620<option value="Windows-874">Windows-874<optgroup label="Turkish"><option value="IBM-857">IBM-857<option value="ISO-8859-9">ISO-8859-9<option value="MacTurkish">MacTurkish<option value="Windows-1254">Windows-1254<optgroup label="Unicode"><option value="UTF-16">UTF-16<option value="UTF-16BE">UTF-16BE<option value="UTF-16LE">UTF-16LE<option value="UTF-32">UTF-32<option value="UTF-32BE">UTF-32BE<option value="UTF-32LE">UTF-32LE<option value="UTF-7">UTF-7<option value="UTF-8" selected>UTF-8 (Default)<optgroup label="Vietnamese"><option value="TCVN">TCVN<option value="VISCII">VISCII<option value="VPS">VPS<option value="Windows-1258">Windows-1258<optgroup label="Western"><option value="IBM-850">IBM-850<option value="ISO-8859-1">ISO-8859-1<option value="ISO-8859-15">ISO-8859-15<option value="MacRoman">MacRoman<option value="Windows-1252">Windows-1252</select>
<td><button type=button onclick="_getid('encoding').value='UTF-8'">Default</button>

<tr><td colspan=3>
<tr><td colspan=3>
<button type="submit" style="font-size:18px" id="btn_connect" disabled=true>Loading library...</button>
<tr><td colspan=3>
</table>
</form>

<form style="display:inline" onsubmit="proc_save();return false">
<table>
<tr><td><input id="sname" type="text" style="width:200px" spellcheck=false autocomplete="off"> <button type="submit" title="Save the current connection to Browser Localstorage">Save</button>
<tr><td><div id="slist" style="margin-bottom:5px"></div>
<tr><td><div style="margin-bottom:10px">2024, Telnet, SSH Client for Browser</div>
</table>
</form>
</div>

<div id="terminal" style="display:none"></div>

<div id="memo" class="gd_div" style="z-index:10001;display:none;background-color:white;padding:2px">
	<textarea id="memo2" spellcheck=false maxlength=40000></textarea>
</div>

<script>
function proc_memo(){
	var memo=_getid('memo');
	var memo2=_getid('memo2');
	if(memo.style.display==''){
		memo.style.display='none';
		return;
	}
	var w=getWindowWidth();
	var h=getWindowHeight();
	var w2=Math.floor(w*0.5);
	if(w2<700) w2=700;
	var h2=Math.floor(h*0.2);
	if(h2<200) h2=200;
	memo2.style.width=w2+'px';
	memo2.style.height=h2+'px';

	var b=_getid('term_top');	
	var c=getOffset(b);
	memo.style.left=c.left+'px';
	memo.style.top=(c.top+b.offsetHeight)+'px';	
	memo.style.display='';
}
function proc_show(name){
	var a=_getid(name);
	if(!a)return;
	if(a.style.display=='') a.style.display='none';
	else a.style.display='';
}
function proc_showterminal(){
	if(_getid('terminal').style.display==''){
		_getid('term_opts').style.display='';
		_getid('terminal').style.display='none';
		document.body.style['overflow-y']='';
	}else{
		_getid('term_opts').style.display='none';
		_getid('terminal').style.display='';
		document.body.style['overflow-y']='hidden';
		if(document.body) document.body.scrollTop=0;
		if(document.documentElement) document.documentElement.scrollTop=0;
	}
	proc_resize();
}
var scount=0;
function proc_save(){
	var sname=trim(_getid('sname').value);
	if(!sname){
		alert('Please enter a name.');
		_getid('sname').focus();
		return;
	}
	var a=getVals();
	var b=slist_get();
	scount++;
	a.id=(new Date()).getTime()+'-'+scount;
	a.name=sname;
	b.push(a);
	if(window.JSON) setstorage('slist', JSON.stringify(b));
	slist_display();
}

function slist_get(){
	var a=[];
	try{
		a=JSON.parse(getstorage('slist'));
	}catch(err){
		a=[];
	}
	return a;
}
function slist_display(){
	var b=slist_get();
	var s='<table>';
	for(var i=b.length-1;i>=0;i--){
		s+='<tr><td><a href="#" onclick="slist_select(\''+b[i].id+'\');return false">'+henc(b[i].name)+' ('+henc(b[i].host || 'Unknown')+')</a>';
		s+='<td><td><a href="#" onclick="slist_remove(\''+b[i].id+'\',this);return false">Remove</a>';
	}
	s+='</table>';
	_getid('slist').innerHTML=s;
}
function slist_select(id){
	var b=slist_get();
	for(var i = 0; i < b.length; i++){
		if(b[i].id==id){
			_getid('host').value=b[i].host || '';
			_getid('user').value=b[i].user || '';
			_getid('ctype').value=b[i].type || 'telent';
			_getid('port').value=b[i].port || '';
			_getid('encoding').value=b[i].encoding || 'UTF-8';
			_getid('ctype').onchange();
			break;
		}
	}
}
function slist_remove(id,obj){
	var b=slist_get();
	for(var i = 0; i < b.length; i++){
		if(b[i].id==id){
			b.splice(i,1);
			break;
		}
	}
	if(window.JSON) setstorage('slist', JSON.stringify(b));
	var f=obj.parentNode.parentNode;
	if(f) f.parentNode.removeChild(f);
}

var term, socket, lastsendtime;
var buf=[];
function wtty(argv) {
    this.argv_ = argv;
    this.io = null;
    this.pid_ = -1;
}
wtty.prototype.run = function () {
    this.io = this.argv_.io.push();

    this.io.onVTKeystroke = this.sendString_.bind(this);
    this.io.sendString = this.sendString_.bind(this);
    this.io.onTerminalResize = this.onTerminalResize.bind(this);
};
wtty.prototype.sendString_ = function (str) {
    socket.emit('input', str);
	lastsendtime=(new Date()).getTime();
};
wtty.prototype.onTerminalResize = function (col, row) {
    socket.emit('resize', {col: col, row: row});
};

function getVals(){
	var a={
		host: trim(_getid('host').value),
		type: _getid('ctype').value,
		port: trim(_getid('port').value),
		encoding: trim(_getid('encoding').value) || 'UTF-8'
	};
	if(a.type=='ssh'){
		a.user=trim(_getid('user').value);
	}
	return a;
}
function htermInit(cb) {
  lib.init(function () {
	function go1(){
		term.setCursorPosition(0, 0);
		term.setCursorVisible(true);
		if(buf.length>0) {
			proc_encoding(buf);			
			buf=[];
		}
		cb();
	}
	if(!term){
		term = new hterm.Terminal();
		var div=document.getElementById('terminal');
		if(ises6supported){
			term.decorate(div,function(){
				term.prefs_.set('ctrl-c-copy', true);
				term.prefs_.set('ctrl-v-paste', true);
				term.prefs_.set('use-default-window-copy', true);
				term.runCommandClass(wtty, "");
				_getid('showterminal').disabled=false;
				go1();
			});
		}else{
			var iframe_ = div.ownerDocument.createElement('iframe');
			iframe_.style.cssText = (
				'border: 0;' +
				'height: 100%;' +
				'position: absolute;' +
				'width: 100%');
			iframe_.onload=function(){
				term.decorate(div,iframe_);
				term.prefs_.set('ctrl-c-copy', true);
				term.prefs_.set('ctrl-v-paste', true);
				term.prefs_.set('use-default-window-copy', true);
				term.runCommandClass(wtty, "");
				_getid('showterminal').disabled=false;
				go1();
				iframe_.onload=function(){};
			}
			div.appendChild(iframe_);
		}
	}else{
		term.reset();
		go1();
	}
  });
}
var connecttimer, lastvals;
function proc_encoding(arr){
	var s, enc;
	if(lastvals) enc=lastvals.encoding;
	if(!enc) enc='UTF-8';
	for(var i=0; i <= arr.length-1; i++){
		var flag=false;
		try{
			s=(new TextDecoder(enc)).decode(arr[i]);
		}catch(err){
			enc='UTF-8';
			flag=true;
		}
		if(flag){
			try{
				s=(new TextDecoder(enc)).decode(arr[i]);
			}catch(err){
				s='\nEncoding Error.';
			}
		}
		term.io.writeUTF16(s);
	}
	if(_getid('terminal').style.display==''){
		if(document.body) document.body.scrollTop=0;
		if(document.documentElement) document.documentElement.scrollTop=0;
	}
}
function proc_connect2(){
  try{	  
	socket = io('wss://d2.boom4u.net', {path: '/telnetclient/socket.io'});
    socket.on('connect', function () {
	   show_message('Connected.');
    });
    socket.on('output', function (data) {
        if (!termloaded) {
			buf.push(data);
            return;
        }
		proc_encoding([data]);
		if(_getid('theme').disabled){
		  _getid('theme').disabled=false;
		  _getid('fontsize').disabled=false;
		  _getid('theme').onchange();
		  _getid('fontsize').onchange();
		}
    });
    socket.on('end', function () {
        show_message('Ended.');
    });
    socket.on('disconnect', function () {
        show_message('Disconnected.');
    });
  }catch(err){
  }
}
var termloaded=false;
function proc_connect(){
	if(gadb){alert('Please disable the adblock for free use.');return;}
	if(_getid('btn_connect').disabled)return;
	if(typeof lib === "undefined" || !lib){
		alert('Error. Not loaded library.');
		return;
	}
	var vals = getVals();	
	if(!vals.host){
		alert('Please enter a host address.');
		_getid('host').focus();
		return;
	}
	if(vals.type=='ssh' && !vals.user){
		alert('Please enter a user ID.');
		_getid('user').focus();
		return;
	}
	vals.port=parseInt(vals.port);
	if(!vals.port || isNaN(vals.port)) vals.port=0;
	if(!vals.port){
		if(vals.type=='telnet') vals.port=23;
		else vals.port=22;
	}	
	_getid('port').value=vals.port;
	if(/(\`|\"|\'|\$|\\)/.test(vals.host)){
		alert('Error. Invalid character in a host. These characters (`"\'$\\) are not allowed.');return;			
	}
	if(/(\`|\"|\'|\$|\\)/.test(vals.port)){
		alert('Error. Invalid character in a port. These characters (`"\'$\\) are not allowed.');return;			
	}
	if(/(\`|\"|\'|\$|\\)/.test(vals.user)){
		alert('Error. Invalid character in a user. These characters (`"\'$\\) are not allowed.');return;			
	}
	lastvals=vals;

	_getid('btn_connect').disabled=true;
	setTimeout(function(){
		_getid('btn_connect').disabled=false;
	},6000);
	
	termloaded=false;
	function go1(){
		clearInterval(connecttimer);
		connecttimer=setInterval(function(){
			if(socket.connected){
				clearInterval(connecttimer);
				go2();
			}
		},200);
	}	
	function go2(){
        htermInit(function () {
			termloaded=true;
            vals.col = term.screenSize.width;
            vals.row = term.screenSize.height;
            socket.emit('start', vals);
			_getid('term_opts').style.display='none';
			_getid('terminal').style.display='';
			document.body.style['overflow-y']='hidden';
			if(document.body) document.body.scrollTop=0;
			if(document.documentElement) document.documentElement.scrollTop=0;
			proc_resize();
			_getid('terminal').focus();			
        });
	}	
	
	if(!socket){
		proc_connect2();
		go1();
		return;
	}
	if(socket.connected){
		socket.disconnect();
		clearInterval(connecttimer);
		connecttimer=setInterval(function(){
			if(socket.disconnected){
				clearInterval(connecttimer);
				socket.connect();
				go1();
			}
		},200);
	}else{
		socket.connect();
		go1();
	}
}

function proc_resize(){
	var terminal=_getid('terminal');
	var term_top=_getid('term_top');
	var term_left=_getid('term_left');
	var a=terminal.getElementsByTagName('IFRAME');
	if(!a || !a[0])return;
	var ifrm=a[0];

	var w=getWindowWidth()-term_left.offsetWidth-6;
	var h=getWindowHeight()-term_top.offsetHeight-8;
	ifrm.style.width=w+'px';
	ifrm.style.height=h+'px';
}
function init(){
	if (window.addEventListener){
		window.addEventListener("resize", proc_resize, false);
	}else if (window.attachEvent){
		window.attachEvent("onresize", proc_resize);
	}
	proc_resize();

	var theme=_getid('theme');
	theme.onchange=function(){
		if(!termloaded)return;
		if(this.value=='dark'){
			term.setBackgroundColor('rgb(16, 16, 16)');
			term.setForegroundColor('rgb(240, 240, 240)');
		}else{
			term.setBackgroundColor('white');
			term.setForegroundColor('black');
		}
	}
	var fontsize=_getid('fontsize');
	fontsize.onchange=function(){
		if(!termloaded)return;
		term.setFontSize(this.value);
	}	
	var ctype=_getid('ctype');	
	ctype.onchange=function(){
		var user=_getid('user');
		if(this.value=='ssh') user.disabled=false;
		else user.disabled=true;
	}

	var opts={};
	try{
		opts=JSON.parse(getstorage('opts'));
	}catch(err){
		opts={};
	}
	if(opts.theme!=null) theme.value=opts.theme;
	if(opts.fontsize!=null) fontsize.value=opts.fontsize;
	if(opts.ctype!=null) ctype.value=opts.ctype;
	if(opts.host!=null) _getid('host').value=opts.host;
	if(opts.user!=null) _getid('user').value=opts.user;
	if(opts.port!=null) _getid('port').value=opts.port;		
	if(opts.encoding!=null) _getid('encoding').value=opts.encoding || 'UTF-8';	
	var memo2=_getid('memo2');
	var s=getstorage('c_memo') || '';
	memo2.value=s;

	ctype.onchange();
	slist_display();

	window.onunload=function(){
		opts.theme=theme.value;
		opts.fontsize=fontsize.value;
		opts.ctype=ctype.value;
		opts.host=_getid('host').value;
		opts.user=_getid('user').value;
		opts.port=_getid('port').value;	
		opts.encoding=_getid('encoding').value;			
		if(window.JSON) setstorage('opts', JSON.stringify(opts));
		var s=memo2.value;
		if(s.length<50000) setstorage("c_memo",s);
	}		

	document.documentElement.onmouseup=function(e){
		if(!e) e=event;
		if(e.button!=0 && e.button!=1)return;
		var w=getWindowWidth()-27;
		var h=getWindowHeight()-27;
		if(e.clientX>w || e.clientY>h) return;
    	var b2;
		if(e.target) b2 = e.target;
		else if(e.srcElement) b2 = e.srcElement;
		if(b2.tagName=='A' || b2.tagName=='SPAN')return;
    	while (b2) {
			if(b2.id=="rssviewer" || b2.id=="imgrss"){
				return;
			}
    		if (b2==document.body) break;
			if (b2.parentElement) b2=b2.parentElement;
			else b2=b2.parentNode;
    	}
		var a=_getid("gviewer");	
		if(a && a.style.display==''){
			setTimeout(function(){
				proc_rssclose();
			},10);
		}		
	}

	/*var t1=parseInt(getstorage('gloadserver') || '');
	var flag=false;
	if(!isNaN(t1) && t1>0){
		var d=(new Date()).getTime()-t1;			
		if(d/1000/60<3) flag=true;
	}
	if(!flag){
		setTimeout(function(){			
			setstorage('gloadserver',(new Date()).getTime());	
			try{var xhr= new XMLHttpRequest();xhr.open('GET', '?loadserver=1');xhr.send();}catch(err){}
		},50);
	}*/
	setTimeout(function(){					
		try{var xhr= new XMLHttpRequest();xhr.open('GET', 'https://d2.boom4u.net/');xhr.send();}catch(err){}
	},150);

	var timer1=setInterval(function(){
		if(typeof lib === "undefined" || !lib){
		}else{
			clearInterval(timer1);
			_getid('btn_connect').disabled=false;
			_getid('btn_connect').innerHTML='Connect to Server';
		}
	},300);

	function go1(){
		var timer2=setInterval(function(){
			if(lastsendtime){
				var now=(new Date()).getTime();
				if(now-lastsendtime>1000*60*60*6){								
					lastsendtime=now;
					try{
						if(socket.connected){
							socket.disconnect();
						}
					}catch(err){}
				}
			}
		},1000*10);
	}
	go1();
}
init();
</script>

<style>
.gd_div{background-color:#FFFFE1;position:absolute;overflow:hidden;-webkit-box-shadow: 0 0 25px #999;-moz-box-shadow: 0 0 25px #999;box-shadow: 0 0 25px #999;}
</style>
<div id="layer_message" class="gd_div" style="z-index:10001;display:none;"></div>
<div id="gd_window" class="gd_div" style="z-index:10000001;display:none;"></div>
<div id="gd_btn_login" class="gd_div" style="z-index:10000000;display:none;">
<table>
<tr><td align=center><button onclick="gd_login_manual()" style="font-size:20px"><img src="images/gdrive/product20.png" align="absmiddle"> Login & Authorize</button> <button onclick="gd_login_close()" style="font-size:20px">Close</button>
<tr><td>To use this app, Please login to the Google Drive and authorize this app or website.
<br>(Note: If your browser block or disable the third-party cookies, this login does not work correctly.)
</table>
</div>
<script>
var CLIENT_ID = '519719848833-fa0rl7bqs39lld42251j8e5eduqqtub0.apps.googleusercontent.com';
var SCOPES = [
	'https://www.googleapis.com/auth/drive.install',
	'https://www.googleapis.com/auth/drive.file'
];
var gd_developerKey='AIzaSyDLOEDlcqVdBzz4cNbbzcXcH_fTx9n3s6E';
var gd_mimetype="";
var gd_state='';
var gd_export_extension=["pdf"];

var gd_picker,gd_loaded,gd_pickerloaded,gd_lastprogress,gd_issupported,gd_isdownloading,gd_load_timer,gd_bloburl,gd_state2;
var gd_loginexp=0;
var gd_callback;
var ismsie=false;
if(navigator.appName!="Netscape"){
	if(navigator.userAgent.indexOf("MSIE")>=0) ismsie=true;
}
if(navigator.userAgent.match(/Trident\//)) ismsie=true;

function gd_btn_login2(e,callback){
	var sl=getScrollLeft();
	var st=getScrollTop();
	var w=getWindowWidth();
	var h=getWindowHeight();
	function go(a){
		if(a && a.style.display==''){
			var x=sl+((w-a.clientWidth) / 2);
			var y=st+((h-a.clientHeight) / 2);
			a.style["border"]="1px solid #000000";
			a.style["padding"]="10px";
			a.style.left=x+"px";
			a.style.top=y+"px";
		}
	}
	function go2(){
		var a=_getid("gviewer");	
		if(a.style.display!='')return;
		var dy=40;
		var dy2=15;
		var dr=0.07;
		if(a.getAttribute("data")=="small"){
			var odw=853;var odh=480;
			var dw=odw;var dh=odh;
			var mw=w-(parseInt(w*dr)*2);
			var mh=h-dy-dy2;
			if(dw>mw){
				dw=mw;
				dh=dw*odh/odw;
			}
			if(dh>mh){
				dh=mh;
				dw=dh*odw/odh;
			}
			a.style.left=(sl+((w-dw)/2))+'px';
			a.style.width=dw+'px';
			a.style.top=(st+((h-dh)/2))+'px';				
			a.style.height=dh+'px';
			var y=(st+((h-dh)/2));
		}else{
			a.style.left=(sl+parseInt(w*dr))+'px';
			a.style.top=(st+dy)+'px';
			a.style.width=(w-(parseInt(w*dr)*2))+'px';
			a.style.height=(h-dy-dy2)+'px';
			var y=st+dy;
		}
		var b=_getid("btn_gvclose");
		b.style.display='';
		var x=sl+((w-b.offsetWidth) / 2);		
		y=y-b.offsetHeight;
		b.style.left=x+'px';
		b.style.top=y+'px';
	}
	go(_getid("gd_btn_login"));
	go(_getid("gd_window"));	
	setTimeout(function(){
		go(_getid("gd_btn_login"));
		go(_getid("gd_window"));	
		if(callback)callback();
	},10);
	go2();
}
function gd_btn_login(isshow){
	var a=_getid("gd_btn_login");
	if(isshow){
		a.style.display='';
		gd_btn_login2();
	}else{
		a.style.display='none';
	}
}
function gd_login_close(){
	gd_btn_login(false);
	gd_state='';
}
function gd_login_manual(){
	var p={'client_id': CLIENT_ID, 'scope': SCOPES.join(' '), 'immediate': false};
	if(gd_userId){p['login_hint']=gd_userId;p['authuser']=-1;}
	gapi.auth.authorize(p, function (authResult){ 
		if (authResult && !authResult.error){
			gd_loginexp=(new Date()).getTime()+parseInt(authResult.expires_in*0.7*1000);
			gd_btn_login(false);gd_info();
			show_message("Login ok!!");
			if(gd_callback) gd_callback(true);
			else gd_open_state(true);
		}else{
			gd_btn_login(true);
			show_message("Login failed!!");
		}
	});
}
function gd_login(callback,react){
	if(gd_loginexp==0 || gd_loginexp<(new Date()).getTime()){
	}else{
		callback(true);
		return;
	}
	var p={'client_id': CLIENT_ID, 'scope': SCOPES.join(' '), 'immediate': true};
	if(gd_userId){p['login_hint']=gd_userId;p['authuser']=-1;}
	gapi.auth.authorize(p, function (authResult){
		if (authResult && !authResult.error){
			gd_loginexp=(new Date()).getTime()+parseInt(authResult.expires_in*0.7*1000);
			gd_btn_login(false);gd_info();
			callback(true);
		}else{
			show_message("Login failed!!");
			gd_btn_login(true);
			callback(false);
			if(react) gd_callback=callback;
			else gd_callback=null;
		}
	});
}

function gd_loadpicker() {		
	gapi.load('picker',{'callback': function(){
			gd_pickerloaded=true;
		}
	});	
}
function gd_createpicker() {
	var access_token=gapi.auth.getToken().access_token;
	if(!access_token){
		alert('Error!! No access token.');
		return;
	}
	if(!gd_picker){
	  var view2 = new google.picker.DocsView(google.picker.ViewId.DOCS);
	  if(gd_mimetype) view2.setMimeTypes(gd_mimetype);
	  view2.setMode(google.picker.DocsViewMode.LIST);

		var view4 = new google.picker.DocsView(google.picker.ViewId.DOCS);
		view4.setIncludeFolders(true);
		view4.setParent("root");
		view4.setMimeTypes(gd_mimetype);
		view4.setMode(google.picker.DocsViewMode.LIST);
		var view5 = new google.picker.View(google.picker.ViewId.RECENTLY_PICKED);

      gd_picker = new google.picker.PickerBuilder()
          //.enableFeature(google.picker.Feature.NAV_HIDDEN)
          //.enableFeature(google.picker.Feature.MULTISELECT_ENABLED)
		  .setLocale("en") //window.navigator.language || window.navigator.userLanguage || "en"
		  .setAppId(CLIENT_ID.split("-")[0])
          .setOAuthToken(access_token)
		  .setTitle("")
          .addView(view2)
		  .addView(view4)
		  .addView(view5)
          .addView(new google.picker.DocsUploadView())
          .setDeveloperKey(gd_developerKey)
          .setCallback(gd_pickercallback)
          .build();
	}
	gd_picker.setVisible(true);
}
function gd_pickercallback(data) {
	if (data.action == google.picker.Action.PICKED) {
		//console.log(data);
		if(data.docs && data.docs.length>0 && data.docs[0].id){
	        var fileId = data.docs[0].id;
			gd_loadfile(fileId);
		}
	}
}
function gd_loadfile(fileId){	
	if(gd_isdownloading){
		alert("It's downloading. Please try again in a few minutes. or Cancel the current download.");
		return;
	}
	_getid("downlink").innerHTML="<table><tr><td><div id='gd_progress'>Ready...</div></table>";
	gapi.client.load('drive', 'v2', function() {
		var request = gapi.client.drive.files.get({
			'fileId': fileId
		});
		request.execute(function(resp){
			function end(){
				gd_isdownloading=false;
				clearTimeout(messagetimer);
				hide_message();
				var a=_getid("downlink");
				if(a.innerHTML && a.innerHTML.indexOf("adownlink")<0){
					_getid("downlink").innerHTML='';
				}
			}
			function error(s){				
				alert(s);
			}
			//console.log(resp);

			var downloadurl;
			if(resp.downloadUrl){
				downloadurl=resp.downloadUrl;
				go();
			}else if(resp.exportLinks){
				var s1='<b>Select a file type to export and download:</b><br><br>';
				var prefer=getstorage('c_prefer_ext');
				var list=[];
				for (x in resp.exportLinks){
					var a={};
					a.name=x;
					a.url=resp.exportLinks[x] || '';
					var match=a.url.match(/(exportFormat=|format=)(.*?)(&|$)/i);
					if(match) a.ext=match[2];
					s1+='<label style="cursor:pointer"><input type=radio name=gdsel value="'+list.length+'"';
					if(prefer==a.ext) s1+=' checked=true';
					s1+='> '+a.name;
					if(a.ext) s1+=' (.'+a.ext+')';
					s1+='</label><br><br>';
					list.push(a);
				}				
				var gwin=_getid("gd_window");
				gwin.innerHTML='<table><tr><td>'+s1+'<tr><td align=center><button id="gd_ok" style="font-size:17px">OK</button> <button id="gd_cancel" style="font-size:17px">Cancel</button></table>';
				gwin.style.display='';
				gd_btn_login2(false,function(){
					_getid('gd_ok').focus();
				});
				function selok(){
					gwin.style.display='none';
					var ans;
					var radios = gwin.getElementsByTagName('input');
					for(var i = 0; i < radios.length; i++){
						if(radios[i].type=='radio' && radios[i].checked){
							ans=radios[i].value;
							break;
						}
					}					
					ans=parseInt(ans);
					if(isNaN(ans) || ans<0 || ans>list.length-1){
						end();
						alert('No selected.');
						return;
					}
					downloadurl=list[ans].url;
					resp.fileExtension=list[ans].ext || '';
					setstorage('c_prefer_ext',resp.fileExtension);
					go();
				}
				var a=gwin.getElementsByTagName('label');
				for(var i = 0; i < a.length; i++){
					a[i].ondblclick=selok;
				}
				_getid('gd_ok').onclick=selok;
				_getid('gd_cancel').onclick=function(){
					gwin.style.display='none';
					end();
				}
				/*for (x in resp.exportLinks){	
					for(var i = 0; i < gd_export_extension.length; i++){    
						if(x.toLowerCase().indexOf(gd_export_extension[i])>=0){
							downloadurl=resp.exportLinks[x];
							resp.fileExtension=gd_export_extension[i];
							break;
						}						
					}					
					if(downloadurl)break;
				}
				go();*/
			}else{go();}

		  function go(){
			var accessToken = gapi.auth.getToken().access_token;
			if(!accessToken){
				end();
				alert('Error!! No access token.');
				return;
			}
			if(downloadurl){				
					function gettitle(){
						var s='';
						if(resp.title){
							if(resp.exportLinks) s=resp.title+'.'+resp.fileExtension; 
							else s=resp.title;
						}else{
							s='No Name';
						}
						return s;
					}
					function getsize(){
						if(!resp.fileSize) return '';
						function humanFileSize(bytes){
							var thresh = 1024;
							if(bytes < thresh) return bytes + ' B';
							var units = ['kB','MB','GB','TB','PB','EB','ZB','YB'];
							var u = -1;
							do {
								bytes /= thresh;
								++u;
							} while(bytes >= thresh);
							return bytes.toFixed(1)+' '+units[u];
						}
						return ' ('+humanFileSize(resp.fileSize)+')';
					}					
					function setdown(url){
						gresp=resp;
						_getid("downlink").innerHTML='<table><tr><td><a id="adownlink" style="font-size:15px">Down</a><td><a href="#" onclick="proc_gview(\''+resp.id+'\');return false">View</a><td><a href="#" onclick="attach_dialog();return false" title="Open Share Dialog">Share</a></table>';
						var a=_getid("adownlink");
						if(a){
							a.href=(resp.downloadUrl && resp.webContentLink) || url;
							var s=gettitle();
							a.download=s || "";
							a.title=(s || "")+getsize();
						}
					}
					gd_isdownloading=true;
					_getid("downlink").innerHTML="<table><tr><td><img src='images/wait.gif' align='absmiddle'><td><div id='gd_progress'>Downloading...</div></table>";
					setTimeout(function(){
						end();
						setdown(downloadurl+'&access_token='+encodeURIComponent(accessToken));					
					},150);
			}else{
				end();
				if(resp.error && resp.error.message){
					alert(resp.error.message);
				}else{
					alert('Error!! Can not find a download URL.');
				}
			}
		  }
		});
	});
}
var share2;
function attach_dialog(){
	if(!gresp)return;
	function go(){
		if(!share2){
			var appId = CLIENT_ID.split("-")[0];
			share2 = new gapi.drive.share.ShareClient(appId);
		}
		share2.setItemIds(gresp.id);
		share2.showSettingsDialog();
	}	
	gd_login(function(result){
		if(!result) return;
		gapi.load('drive-share', function(){
			go();
		});
	},true);
}
function gd_open_picker(){
	if(!gd_issupported){
		alert("This browser does not support.");
		return;
	}
	if(!gd_loaded || !gd_pickerloaded){
		if(!gd_load_timer) gd_loadscript(gd_open_picker);
		else alert('Not loaded library. Please try again in a few minutes.');
		return;
	}
	gd_login(function(result){
		if(!result) return;
		gd_createpicker();
	},true);
}
function gd_open_state(force){
	var s=gd_state;
	if(s){
		if(!gd_issupported){
			gd_state='';
			alert("This browser does not support.");
			return;
		}
		s=decodeURIComponent(s);
		try{
			var a=JSON.parse(s);
			var fileId;
			if(a.ids) fileId=a.ids[0];
			if(!fileId && a.exportIds) fileId=a.exportIds[0];
			if(fileId){
				gd_login(function(result){
					if(gd_open2 && !force)return;
					gd_open2=true;
					if(!result) return;
					//_getid('gd_btn_reopen').style.display='';
					gd_state='';
					gd_loadfile(fileId);
				});				
			}
		}catch(err){
		}
	}
}
function gd_clientload(){
	gd_loaded=true;
	if (window.addEventListener){
		window.addEventListener("resize", gd_btn_login2, false);
	}else if (window.attachEvent){
		window.attachEvent("onresize", gd_btn_login2);
	}
	gd_open_state();
}
var gd_open2;
function gd_open_state2(){
	setTimeout(function(){
		if(!gd_open2)gd_open_state();
	}, 1000);
}

function gd_loadscript(callback){
	function inject(s){
		var o = document.createElement('scri' + 'pt');
		o.setAttribute('src', s);
		o.setAttribute('type', 'text/javascript');
		document.body.appendChild(o);
	}
	if(gd_load_timer)return;
	if(gd_loaded && gd_pickerloaded)return;
	gd_load_timer=setInterval(function(){
		if(gd_loaded && gd_pickerloaded){
			clearInterval(gd_load_timer);
			if(callback) callback();
		}
	},100);
	inject('https://apis.google.com/js/client.js?onload=gd_clientload');
	inject('https://apis.google.com/js/api.js?onload=gd_loadpicker');	
}
var gd_userId,gd_email;
function gd_weburl(){
	var s;
	if(gd_email) s='https://drive.google.com/?authuser='+gd_email;
	else s='https://drive.google.com/';
	return s;
}
function gd_info(){
	if(gd_email)return;
	gapi.client.load('drive', 'v2', function(){
		var request = gapi.client.drive.about.get();
		request.execute(function(resp) {
			if(resp && resp.user){
				if(gd_email)return;
				gd_email=resp.user.emailAddress;
				if(gd_email){
					var a=_getid('btn_open');
					var b=_getid('gd_btn_reopen');
					if(a)a.title=a.title+' ('+gd_email+')';
					if(b)b.title=b.title+' ('+gd_email+')';
				}				
			}
		});
	});
}
function gd_dblclick(){
	function dblclick(){
		try{
			if(gd_picker)gd_picker.setVisible(false);
		}catch(err){}
	}
	function keydown(e){
		if(!e)e=window.event;
		if(e && e.keyCode==27){
			dblclick();
			proc_rssclose();
		}
	}
	if(window.addEventListener){
		document.addEventListener("dblclick", dblclick, false);
		document.addEventListener("keydown", keydown, false);
	}else if(window.attachEvent){
		document.attachEvent("ondblclick", dblclick);
		document.attachEvent("onkeydown", keydown);
	}
}
function gd_init(){
	gd_dblclick();
	gd_state2=gd_state;
	if(!window.XMLHttpRequest){//!window.FileReader || !window.URL ||
	}else{
		gd_issupported=true;
		if(gd_state){
			try{
				var a=JSON.parse(gd_state);
				gd_userId=a.userId;
				if(a.ids || a.exportIds){
					_getid("downlink").innerHTML="<table><tr><td><div id='gd_progress'>Ready...</div></table>";
				}
			}catch(err){}			
			if(window.addEventListener) window.addEventListener("load", gd_open_state2, false);
			else if (window.attachEvent) window.attachEvent("onload", gd_open_state2);
		}
		gd_loadscript();
	}
}
gd_init();

var gresp;
function _getfrmdoc(ifrm){
	return (ifrm.contentWindow) ? ifrm.contentWindow : (ifrm.contentDocument.document) ? ifrm.contentDocument.document : ifrm.contentDocument;
}
function proc_gview(id,url){
	var s;
	var a=_getid("gviewer");	
	if(url){
		url=unescape(url);
		var vid=gd_getparam(url, "v");
		if(!vid){
			alert('Can not view this URL.');
			return;
		}
		s='https://www.youtube.com/embed/'+vid+'?fs=1&autoplay=1&loop=1&rel=0&version=3&vq=&playlist='+vid;
		a.setAttribute("data","small");
	}else{
		var resp=gresp;
		var id2;
		if(!id) id2=resp.id;
		else id2=id;
		s='https://drive.google.com/file/d/'+id2+'/preview';
		if(!id && resp && resp.embedLink) s=resp.embedLink;
		/*if(!id && resp.alternateLink){
			var p1=resp.alternateLink.lastIndexOf("/");
			if(p1>=0) s=resp.alternateLink.substr(0,p1)+'/preview';
		}*/
		a.setAttribute("data","");
	}
	a.style.display='';
	var ifrm2 = _getfrmdoc(a);
	ifrm2.location.replace(s);
	gd_btn_login2();	
}
function proc_rssclose(){
	var a=_getid("gviewer");	
	if(a && a.style.display==''){
		a.style.display="none";	
		_getid("btn_gvclose").style.display="none";	
		try{
			var ifrm2 = _getfrmdoc(a);
			if(ifrm2) ifrm2.location.replace('about:blank');
		}catch(err){}
	}
}
</script>

<style>
.picker-dialog{padding: 0px 0px !important;}
</style>
<style>.shadow{border:0px solid silver;-webkit-box-shadow: 0 0 10px #999;	-moz-box-shadow: 0 0 10px #999; box-shadow: 0 0 10px #999;}</style>
<button type="button" id="btn_gvclose" style="z-index:10000010;position:absolute;font-size:20px;padding:4px 25px;display:none;white-space:nowrap"><img src="images/close.png" width=14 align="absmiddle"> Close</button>
<iframe id="gviewer" src="" style="z-index:10000011;position:absolute;display:none;background-color:white" class="shadow" frameborder=0 allowfullscreen="true"></iframe>
<script src="https://storage.googleapis.com/app0126/js/bottom.js" async tos="../tos.php?app=Telnet%2C%20SSH%20Client%20for%20Browser" sitetitle="Telnet, SSH Client for Browser"></script>
<div id="adbottom1" style="width:770px;height:55px;position:absolute; bottom:0; right:0;;z-index:9999">
<table cellpadding=0 cellspacing=0 style="background-color:white"><tr>
<td><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:50px"
     data-ad-client="ca-pub-1113541014872557"
     data-ad-slot="9901752706"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<td><button title='Move Up' style='padding:2px;font-size:14px;margin-left:3px;margin-right:3px' onclick="adbottom2btn_click(this)">UP</button>
</table>
</div>
<script>
function adbottom2btn_click(btn){
	var a=document.getElementById('adbottom1');
	if(!a || !btn)return;
	var s=a.getAttribute("style");
	if(s && s.indexOf("bottom:0")>=0){
		a.setAttribute("style","width:770px;height:55px;position:absolute; top:0; right:0;;z-index:9999");
		btn.innerHTML='DN';
		btn.title='Move Down';
	}else{
		a.setAttribute("style","width:770px;height:55px;position:absolute; bottom:0; right:0;;z-index:9999");
		btn.innerHTML='UP';
		btn.title='Move Up';
	}
}
</script>

<script>
function gd_findscope(a){try{if(!a)return!1;a=" "+a.toLowerCase()+" ";var b=SCOPES;SCOPES.split&&"string"===typeof SCOPES&&(b=SCOPES.split(" "));for(var c=0;c<b.length;c++)if(b[c]){var d=(b[c].split("/").pop().toLowerCase()||"").replace(/^\s*|\s*$/g,"");"drive.appfolder"==d&&(d="drive.appdata");if(/^(drive\.install|drive\.file|drive|drive\.readonly|drive\.appdata|drive\.appfolder|documents|spreadsheets|script\.external_request|calendar|gmail\.send|gmail\.compose|gmail\.readonly|youtube|books|drive\.activity\.readonly|drive\.activity|drive\.apps\.readonly|drive\.metadata|drive\.metadata\.readonly|drive\.scripts)$/.test(d)&&
0>a.indexOf(d+" "))return!1}}catch(e){}return!0}
function init_fix_scope(){var a=window.gd_login_manual,b=window.gd_login;a||(a=window.proc_login_manual);b||(b=window.proc_login);a&&(a+="");b&&(b+="");a&&0<=a.indexOf("if (authResult && !authResult.error")&&0>a.indexOf("gd_findscope(")?(a=a.replace("if (authResult && !authResult.error","if (authResult && !authResult.error && gd_findscope(authResult.scope)"),window.eval(a)):a&&0<=a.indexOf("if (authResult && (!authResult.error || authResult.access_token)")&&0>a.indexOf("gd_findscope(")&&(a=a.replace("if (authResult && (!authResult.error || authResult.access_token)",
"if (authResult && (!authResult.error || authResult.access_token) && gd_findscope(authResult.scope)"),window.eval(a));b&&0<=b.indexOf("if (authResult && !authResult.error")&&0>b.indexOf("gd_findscope(")?(b=b.replace("if (authResult && !authResult.error","if (authResult && !authResult.error && gd_findscope(authResult.scope)"),window.eval(b)):b&&0<=b.indexOf("if (authResult && (!authResult.error || authResult.access_token)")&&0>b.indexOf("gd_findscope(")&&(b=b.replace("if (authResult && (!authResult.error || authResult.access_token)",
"if (authResult && (!authResult.error || authResult.access_token) && gd_findscope(authResult.scope)"),window.eval(b))}init_fix_scope();
</script>
</body>
</html>